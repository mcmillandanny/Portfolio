{"version":3,"sources":["main.js"],"names":["app","PIXI","Application","view","document","getElementById","width","height","transparent","rgb","filters","RGBSplitFilter","x","y","manifest","loadAssets","loader","add","load","onAssetsLoaded","resources","setupScrollProgress","setupTextDecompose","ticker","e","update","start","Graphics","beginFill","drawCircle","stage","addChild","end","scrollProgress","drawRect","style","TextStyle","fill","fontFamily","fontSize","fontVariant","fontWeight","letters","Text","forEach","letter","i","interactive","on","interaction","Math","random","window","innerWidth","innerHeight","console","log","html","scrollingElement","percentScrolled","scrollTop","scrollHeight","offsetHeight","scale","set","red","lerp","t","onload"],"mappings":"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","file":"main.js","sourcesContent":["let app = new PIXI.Application({\n\tview: document.getElementById(\"backgroundCanvas\"),\n\twidth: 1280,\n\theight: 720, \n\ttransparent: true\n});\n\nlet rgb = new PIXI.filters.RGBSplitFilter({x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0});\n\nlet manifest = [\n\t{\"key\" : \"ball\", \"url\" : \"dist/img/logo.png\"},\n\t{\"key\" : \"displace\", \"url\" : \"dist/img/displacement.png\"}\n];\n\n\n\n\nfunction loadAssets() {\n\tapp.loader.add(manifest);\n\n\tapp.loader.load(onAssetsLoaded);\n}\n\nfunction onAssetsLoaded(loader, resources) {\n\n\tsetupScrollProgress();\n\n\tsetupTextDecompose();\n\n\tapp.ticker.add((e) => update(e));\n}\n\nfunction setupScrollProgress() {\n\t// draw range circles\n\tlet start = new PIXI.Graphics();\n\tstart.beginFill(0xffffff);\n\tstart.drawCircle(0, 0, 4);\n\tstart.x = 50;\n\tstart.y = 100;\n\tapp.stage.addChild(start);\n\n\tlet end = new PIXI.Graphics();\n\tend.beginFill(0xffffff);\n\tend.drawCircle(0, 0, 4);\n\tend.x = 50;\n\tend.y = 500;\n\tapp.stage.addChild(end);\n\n\t// draw progress bar\n\tapp.scrollProgress = new PIXI.Graphics();\n\tapp.scrollProgress.beginFill(0xffffff);\n\tapp.scrollProgress.drawRect(-2, 0, 4, 400);\n\n\tapp.scrollProgress.x = 50;\n\tapp.scrollProgress.y = 100;\n\n\tapp.stage.addChild(app.scrollProgress);\n}\n\nfunction setupTextDecompose() {\n\tconst style = new PIXI.TextStyle({\n\t\tfill: \"white\",\n\t\tfontFamily: \"Helvetica\",\n\t\tfontSize: 60,\n\t\tfontVariant: \"small-caps\",\n\t\tfontWeight: \"bold\"\n\t});\n\n\tapp.letters = [\n\t\tnew PIXI.Text('D', style),\n\t\tnew PIXI.Text('A', style),\n\t\tnew PIXI.Text('N', style),\n\t\tnew PIXI.Text('N', style),\n\t\tnew PIXI.Text('Y', style),\n\t\tnew PIXI.Text('M', style),\n\t\tnew PIXI.Text('C', style),\n\t\tnew PIXI.Text('M', style),\n\t\tnew PIXI.Text('I', style),\n\t\tnew PIXI.Text('L', style),\n\t\tnew PIXI.Text('L', style),\n\t\tnew PIXI.Text('A', style),\n\t\tnew PIXI.Text('N', style),\n\n\t];\n\n\n\n\tapp.letters.forEach(function(letter, i) {\n\n\t\tletter.x = 350 + 50 * i;\n\t\tletter.y = 120\n\n\n\n\t\tapp.stage.addChild(letter);\n\n\t\tletter.interactive = true;\n\t\tletter.on('mouseover', function(interaction) {\n\t\t\t\n\n\t\t\tletter.x = Math.random() * window.innerWidth;\n\t\t\tletter.y = Math.random() * window.innerHeight;\n\n\t\t\tconsole.log(letter.x, letter.y);\n\n\t\t})\n\t})\n}\n\n\n\nfunction update(e) {\n\tlet html = document.scrollingElement;\n\tlet percentScrolled = html.scrollTop / (html.scrollHeight - html.offsetHeight);\n\n\t// console.log(percentScrolled);\n\n\tapp.scrollProgress.scale.set(1, percentScrolled);\n\n\t// change filter amt based on scroll\n\trgb.red = {x: 20 * percentScrolled, y: 10 * percentScrolled};\n\n\t// lerp position\n\t// for (let i = 0; i < app.letters.length; i++) {\n\t// \tlet letter = app.letters[i];\n\n\t// \tletter.x = lerp(letter.startPt.x, letter.endPt.x, percentScrolled);\n\t// \tletter.y = lerp(letter.startPt.y, letter.endPt.y, percentScrolled);\n\t// }\n}\n\nfunction lerp(start, end, t) {\n\treturn (1 - t) * start + t * end;\n}\n\nwindow.onload = function() {\n\n\tloadAssets();\n}"]}